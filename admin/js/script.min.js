!function(e,t){"use strict";if(e){var i=null,n={cache:function(){n.els={},n.vars={},n.vars.widgetID='[id*="social_network_widget"]',n.vars.widgetName='[name*="social_network_widget"]',n.vars.colorpicker=".social-network-widget-color-picker",n.vars.iconsList=".social-network-icons-widget-list",n.vars.addBtnClassname=".social-network-widget.add-button button",n.vars.removeBtnClassname=".social-network-widget-item__wrapper__remove a"},ready:function(){n.cache(),n.onAddClick(),n.onRemoveClick(),n.onOpen(),n.onAdded(),n.onUpdated(),n.onFocusOut(),n.onKeyDown(),n.onKeyUp(),n.onChange()},onAddClick:function(){t(document).on("click",n.vars.addBtnClassname,function(e){var i,o,a,d,r;e.preventDefault(),e.stopPropagation(),i=t(t.trim(t("#tmpl-social-network-widget").html())),d=(a=(o=t(this).parents(".widget-content")).find(n.vars.iconsList)).data("url-icon-id"),r=a.data("url-icon-name"),i.find(".social-network-widget-item__wrapper__url input").attr("id",d).attr("name",r+"[]"),a.append(i),o.find(".social-network-widget-item:last").find("input:first").trigger("focus")})},onRemoveClick:function(){t(document).on("click",n.vars.removeBtnClassname,function(e){e.preventDefault(),e.stopPropagation();var i=t(this).parents(".form").find(".widget-control-save");t(this).parents(".social-network-widget-item").remove(),n._livePreviewUpdate(i)})},onOpen:function(){t(document).on("click",`div.widget${n.vars.widgetID} .widget-title, div.widget${n.vars.widgetID} .widget-action`,function(){t(this).parents("#available-widgets").length>0||(n._initWidget(t(this).parents(`.widget${n.vars.widgetID}`)),n._initColorPicker(t(this).parents(`.widget${n.vars.widgetID}`)))})},onAdded:function(){t(document).on("widget-added",function(e,i){i.is(n.vars.widgetID)&&(e.preventDefault(),n._initWidget(i),n._initColorPicker(t(this).parents(`.widget${n.vars.widgetID}`)))})},onUpdated:function(){t(document).on("widget-updated",function(e,i){i.is(n.vars.widgetID)&&(e.preventDefault(),n._initWidget(i),n._initColorPicker(t(this)))})},onFocusOut:function(){t(document).on("focusout",`input${n.widgetName}`,function(){n._livePreviewUpdate(t(this).parents(".form").find(".widget-control-save"))})},onKeyDown:function(){t(document).on("keydown",`input${n.widgetName}`,function(e){13===e.keyCode&&n._livePreviewUpdate(t(this).parents(".form").find(".widget-control-save"))})},onKeyUp:function(){t(document).on("keyup",`input${n.widgetName}`,function(){clearTimeout(i),i=setTimeout(function(){n._livePreviewUpdate(t(this).parents(".form").find(".widget-control-save"))},1e3)})},onChange:function(){t(document).on("change",`select${n.widgetName}`,function(){t(this).parents(".form").find(".widget-control-save")})},_initWidget:function(e){e.find(n.vars.iconsList).sortable({items:"> .social-network-widget-item",handle:".handle",cursor:"move",axis:"y",placeholder:"social-network-widget-item ui-state-placeholder",containment:e,forcePlaceholderSize:!0,update:function(){n._livePreviewUpdate(t(this).parents(".form").find(".widget-control-save"))}})},_initColorPicker:function(e){e.find(n.vars.colorpicker).wpColorPicker({change:_.throttle(function(){t(this).trigger("change")},3e3)})},_livePreviewUpdate:function(e){t(document.body).hasClass("wp-customizer")&&e.length&&e.trigger("click").hide()}};t(document).ready(n.ready())}}(window.wp,jQuery);