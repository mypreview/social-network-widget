!function(e,t){"use strict";if(!e)return;let i=null;const n={cache(){n.els={},n.vars={},n.vars.widgetID='[id*="social_network_widget"]',n.vars.widgetName='[name*="social_network_widget"]',n.vars.colorpicker=".social-network-widget-color-picker",n.vars.iconsList=".social-network-icons-widget-list",n.vars.addBtnClassname=".social-network-widget.add-button button",n.vars.removeBtnClassname=".social-network-widget-item__remove a"},ready(){n.cache(),n.onAddClick(),n.onRemoveClick(),n.onOpen(),n.onAdded(),n.onUpdated(),n.onFocusOut(),n.onKeyDown(),n.onKeyUp(),n.onChange()},onAddClick(){t(document).on("click",n.vars.addBtnClassname,function(e){e.preventDefault(),e.stopPropagation();const i=t(t.trim(t("#tmpl-social-network-widget").html())),o=t(this).parents(".widget-content"),a=o.find(n.vars.iconsList),d=a.data("url-icon-id"),r=a.data("url-icon-name");i.find(".social-network-widget-item__url input").attr("id",d).attr("name",r+"[]"),a.append(i),o.find(".social-network-widget-item:last").find("input:first").trigger("focus")})},onRemoveClick(){t(document).on("click",n.vars.removeBtnClassname,function(e){e.preventDefault(),e.stopPropagation();const i=t(this).parents(".form").find(".widget-control-save");t(this).parents(".social-network-widget-item").remove(),n._livePreviewUpdate(i)})},onOpen(){t(document).on("click",`div.widget${n.vars.widgetID} .widget-title, div.widget${n.vars.widgetID} .widget-action`,function(){t(this).parents("#available-widgets").length>0||(n._initWidget(t(this).parents(`.widget${n.vars.widgetID}`)),n._initColorPicker(t(this).parents(`.widget${n.vars.widgetID}`)))})},onAdded(){t(document).on("widget-added",function(e,i){i.is(n.vars.widgetID)&&(e.preventDefault(),n._initWidget(i),n._initColorPicker(t(this).parents(`.widget${n.vars.widgetID}`)))})},onUpdated(){t(document).on("widget-updated",function(e,i){i.is(n.vars.widgetID)&&(e.preventDefault(),n._initWidget(i),n._initColorPicker(t(this)))})},onFocusOut(){t(document).on("focusout",`input${n.widgetName}`,function(){n._livePreviewUpdate(t(this).parents(".form").find(".widget-control-save"))})},onKeyDown(){t(document).on("keydown",`input${n.widgetName}`,function(e){13===e.keyCode&&n._livePreviewUpdate(t(this).parents(".form").find(".widget-control-save"))})},onKeyUp(){t(document).on("keyup",`input${n.widgetName}`,function(){clearTimeout(i),i=setTimeout(function(){n._livePreviewUpdate(t(this).parents(".form").find(".widget-control-save"))},1e3)})},onChange(){t(document).on("change",`select${n.widgetName}`,function(){t(this).parents(".form").find(".widget-control-save")})},_initWidget(e){e.find(n.vars.iconsList).sortable({items:"> .social-network-widget-item",handle:".handle",cursor:"move",axis:"y",placeholder:"social-network-widget-item ui-state-placeholder",containment:e,forcePlaceholderSize:!0,update(){n._livePreviewUpdate(t(this).parents(".form").find(".widget-control-save"))}})},_initColorPicker(e){e.find(n.vars.colorpicker).wpColorPicker({change:_.throttle(function(){t(this).trigger("change")},3e3)})},_livePreviewUpdate(e){t(document.body).hasClass("wp-customizer")&&e.length&&e.trigger("click").hide()}};t(document).ready(n.ready())}(window.wp,jQuery);