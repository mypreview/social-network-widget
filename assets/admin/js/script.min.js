!function(e,t){"use strict";if(!e)return;const r={cache(){r.els={},r.vars={},r.vars.name="social-network-widget",r.vars.id='[id*="social_network_widget"]',r.vars.list=".social-network-icons-widget-list",r.vars.color=`.${r.vars.name}-color-picker`,r.vars.add=`.${r.vars.name}.add-button button`,r.vars.remove=`.${r.vars.name}-item__remove a`,r.els.$doc=t(document)},ready(){r.cache(),r.onOpen(),r.onAdd(),r.onUpdate(),r.onRemove()},onOpen(){r.els.$doc.on("click",`div.widget${r.vars.id} .widget-title, div.widget${r.vars.id} .widget-action`,e=>{const a=t(e.target);a.parents("#available-widgets").length||(r._sortable(a.parents(`.widget${r.vars.id}`)),r._colorPicker(a.parents(`.widget${r.vars.id}`)))})},onAdd(){r.els.$doc.on("click",r.vars.add,e=>{e.preventDefault();const a=t(e.target),i=a.parents(`.widget${r.vars.id}`),n=t(t.trim(t(`#tmpl-${r.vars.name}`).html())),o=a.parents(".widget-content"),d=o.find(r.vars.list),s=d.data("url-icon-id"),c=d.data("url-icon-name");n.find(`.${r.vars.name}-item__url input`).attr("id",s).attr("name",`${c}[]`),d.append(n),o.find(`.${r.vars.name}-item:last`).find("input:first").trigger("focus"),r._triggerChange(i)})},onRemove(){r.els.$doc.on("click",r.vars.remove,e=>{e.preventDefault();const a=t(e.target),i=a.parents(`.widget${r.vars.id}`),n=a.parents(".form").find(".widget-control-save");a.parents(`.${r.vars.name}-item`).remove(),r._triggerChange(i),r._previewUpdate(n)})},onUpdate(){r.els.$doc.on("widget-updated",(e,t)=>{t.is(r.vars.id)&&(e.preventDefault(),r._sortable(t),r._colorPicker(t))})},_sortable(e){e.find(r.vars.list).sortable({axis:"y",items:`> .${r.vars.name}-item`,handle:".handle",cursor:"grabbing",placeholder:`${r.vars.name}-item ui-state-placeholder`,containment:e,forcePlaceholderSize:!0,start(e,t){t.placeholder.height(t.item.height())},update(a,i){r._triggerChange(e),r._previewUpdate(t(i).parents(".form").find(".widget-control-save"))}})},_colorPicker(e){e.find(r.vars.color).wpColorPicker({change:_.throttle(function(){t(this).trigger("change")},3e3)})},_triggerChange(e){e.find('input[name*="[title]"]').trigger("change")},_previewUpdate(e){!t(document.body).hasClass("wp-customizer")||!e.length>0||e.trigger("click").hide()}};t(document).ready(r.ready())}(window.wp,jQuery);